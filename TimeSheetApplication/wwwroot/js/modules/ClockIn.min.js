function initValidation(){jQuery.validator.setDefaults({onfocusout:!1,onkeyup:!1,onclick:!1,normalizer:function(value){return $.trim(value)}});$("#frmtype").validate({rules:{name:{maxlength:200}},messages:{name:{required:"Customer Account Type is required",maxlength:jQuery.validator.format("Customer Account Type number cannot exceed {0} characters")}}})}function editFormatter(){return'<button type="button" class="edit btn btn-sm btn-info" title="Edit"><i class="fas fa-edit"><\/i><\/button>'}function deleteFormatter(){return'<button type="button" class="remove btn btn-sm btn-danger" title="Delete"><i class="fas fa-trash"><\/i> <\/button>'}function updateAccountType(){swal({title:"Are you sure?",text:"Account Type will be updated!",type:"warning",showCancelButton:!0,confirmButtonColor:"#ff9800",confirmButtonText:"Yes, continue",cancelButtonText:"No, stop!",showLoaderOnConfirm:!0,preConfirm:function(){return new Promise(function(resolve){setTimeout(function(){resolve()},1e3)})}}).then(function(isConfirm){if(isConfirm){var form=$("#frmtype"),data={id:form.find("#acctypeid").val(),name:form.find("#accttype").val()};form.find("#btnTypeUpdate").attr("disabled","true");$.ajax({url:"../Setup/UpdateCustAccount",method:"POST",data:JSON.stringify(data),contentType:"application/json",success:function(result){result==!0?swal({title:"Customer Account Type",text:"Account Type updated successfully!",type:"success"}).then(function(){$("#typeTable").bootstrapTable("refresh");$("#btnTypeUpdate").removeAttr("disabled");$("#btnTypeUpdate").prop("disabled",!1);$("#AddNewType").modal("hide")}):result==!1?(swal({title:"Account Type",text:"This record already exist",type:"error"}),$("#btnTypeUpdate").prop("disabled",!1)):(swal({title:"Update Account Type",text:result.message,type:"error"}),$("#btnTypeUpdate").prop("disabled",!1))},error:function(){swal({title:"Customer Account Type",text:"Account Type encountered an error during update",type:"error"}).then(function(){$("#btnTypeUpdate").removeAttr("disabled")})}})}},function(){return})}function openAccountTypeModal(){var form=$("#frmtype");form.trigger("reset");$("#accountTypeTitle").text("Add");form.find("#btnAddType").show();form.find("#btnTypeUpdate").hide();$("#AddNewType").modal("show")}var url_path=window.location.pathname;url_path.charAt(url_path.length-1)=="/"&&(url_path=url_path.slice(0,url_path.length-1));$(document).ready(function(){initValidation();$("#frmtype").submit(function(e){e.preventDefault()})});window.typeEvents={"click .edit":function(e,value,row){var form=$("#frmtype");form.trigger("reset");(row.state=!0)&&(form.find("[name=acctypeid]").val(row.id),form.find("[name=accttype]").val(row.name),$("#accountTypeTitle").text("Update"),$("#btnAddType").hide(),$("#btnTypeUpdate").show(),$("#AddNewType").modal("show"))},"click .remove":function(e,value,row){swal({title:"Are you sure?",text:"You are about to delete this record!",type:"warning",showCancelButton:!0,confirmButtonColor:"#ff9800",confirmButtonText:"Yes, proceed",cancelButtonText:"No, cancel!",showLoaderOnConfirm:!0,preConfirm:function(){return new Promise(function(resolve){setTimeout(function(){resolve()},1e3)})}}).then(function(isConfirm){isConfirm&&$.ajax({url:url_path+"/DeleteAccountType",method:"POST",data:JSON.stringify({Id:row.id}),contentType:"application/json",success:function(){swal("Deleted succesfully");$("#typeTable").bootstrapTable("refresh")},error:function(){swal("An exception occured!")}})},function(){return})}};$("#accttype").on("keyup",function(){$("span.error-keyup-1").hide();var inputVal=$(this).val();/^[A-Za-z\s-]+$/.test(inputVal)||$(this).after('<span class="text-danger error-keyup-1">Alphabetic characters only.<\/span>')});$(document).ready(function(){$("#btnAddType").click(function(event){var form,data;if(event.preventDefault(),form=$("#frmtype"),!form.valid())return!1;data={Name:form.find("#accttype").val()};console.log(data);$.ajax({url:"../Setup/AddAccountType",data:{accountType:data},method:"POST",dataType:"json",success:function(response){response==!0?(swal({title:"Account Type",text:"Your Account Type has been Created Successfully!",type:"success"}),$("#typeTable").bootstrapTable("refresh"),$("#typeTable").bootstrapTable("refresh",{url:"../Setup/ListCustomerAccountTypes"}),$("#btnAddType").removeAttr("disabled"),$("#btnAddType").prop("disabled",!1),$("#AddNewType").modal("hide")):response==!1?(swal({title:"Account Type",text:"This record already exist",type:"error"}),$("#btnAddType").prop("disabled",!1)):(swal({title:"Add Account Type",text:response.message,type:"error"}),$("#btnAddType").prop("disabled",!1))},error:function(){swal("An exception occured!")}})})});